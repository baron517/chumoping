<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">

    <link rel="stylesheet" href="css/base.css"/>
    <link rel="stylesheet" href="css/main.css"/>

	<link rel="stylesheet" href="css/swiper.min.css"/>

    <link rel="stylesheet" href="css/animate.css"/>

    <style>


	   
    </style>

</head>
<body>


<div id="page1">
<img class="full-img" src="img/1初始页面/法宝填色-1初始界面.jpg" />
    <div class="dianji" id="pageBtn1" style="bottom:125px;left:650px;width:600px;height:150px;"></div>
</div>

<div id="page2" style="display: none;">
    <img class="full-img" src="img/2游戏说明页面/法宝填色-2游戏说明.jpg" />
    <div class="dianji" id="pageBtn2" style="bottom:285px;left:810px;width:300px;height:150px;"></div>
</div>

<div id="page3" style="display: none;">

    <img class="full-img" src="img/3第一关页面/第一关BG.png" />

    <div class="dianji" id="timeText" style="right:40px;bottom:60px;width:240px;height:100px;line-height:90px;font-family: Arial;font-size:56px;color:#efb62b;text-align: center;-webkit-text-fill-color: #efb62b;-webkit-text-stroke: 1px black;font-weight: bold;"></div>

    <canvas class="full-img" id="canvas1" width="1920" height="1080"></canvas>

    <div id="page3Wancheng" style="z-index:1000;display: none;">
        <img class="full-img"    src="img/4第一关完成页面/法宝填色-4第一关完成.jpg"/>
        <div class="dianji" id="page3Btn1" style="width:220px;height:80px;right:53px;bottom:36px;">再玩一次</div>
        <div class="dianji"  id="page3Btn2" style="width:220px;height:80px;right:300px;bottom:36px;">下一关</div>
    </div>

    <img class="dianji" id="pageBtn3" style="left:39px;top:74px;width:110px;height: auto;"  src="img/3第一关页面/主页-未按下.png"/>

</div>


<div id="page4" style="display: none;">

    <img class="full-img" src="img/5第二关页面/第二关BG.png" />

    <div class="dianji" id="timeText1" style="right:40px;bottom:60px;width:240px;height:100px;line-height:90px;font-family: Arial;font-size:56px;color:#efb62b;text-align: center;-webkit-text-fill-color: #efb62b;-webkit-text-stroke: 1px black;font-weight: bold;"></div>

    <canvas class="full-img" id="canvas2" width="1920" height="1080"></canvas>

    <div id="page4Wancheng" style="z-index:1000;display: none;">
        <img class="full-img"    src="img/6第二关完成页面/法宝填色-6第二关完成.jpg"/>
        <div class="dianji" id="page4Btn1" style="width:220px;height:80px;right:174px;bottom:36px;">完成</div>
    </div>

    <img class="dianji" id="pageBtn4" style="left:39px;top:74px;width:110px;height: auto;" src="img/6第二关完成页面/主页-未按下.png"/>

</div>

<div id="page5" style="display: none;">
    <img class="full-img" src="img/7恭喜通关页面/法宝填色-7恭喜通关.jpg" />
    <div class="dianji" id="page5Btn1" style="width:220px;height:80px;right:174px;bottom:36px;">再玩一次</div>
</div>


<script src="js/jquery.js"></script>
<script src="js/common.js"></script>
<script src="js/swiper.min.js"></script>
<script src="js/need.js"></script>

<script>

    var index=0;
    var pointList=[];
    var guanqia=1;
    document.onclick=function(ev){

        var oEvent=ev||event;

        var x=oEvent.pageX;
        var y=oEvent.pageY;

        console.log("x:"+x+"y:"+y);

        if(guanqia==1)
        {
            var d=Math.sqrt((x-dataList1[index].x)*(x-dataList1[index].x)+(y-dataList1[index].y)*(y-dataList1[index].y));
            console.log(d);
            if(d<4)
            {
                var pointObj={};
                pointObj.index=index+1;
                pointObj.x=x;
                pointObj.y=y;
                pointList.push(pointObj);
                if(index>=1)
                {
                    var prevIndex=index-1;
                    // 设置线条的颜色
                    context.strokeStyle = 'red';
                    // 设置线条的宽度
                    context.lineWidth = 3;
                    context.moveTo(pointList[prevIndex].x,pointList[prevIndex].y);
                    context.lineTo(x,y);
                    context.stroke();
                }
                drawCircle(x,y);
                index++;

                if(index>=42)
                {

                    $("#page3Wancheng").show();
                    clearInterval(timerId);
                }


            }
        }
        else
        {

            var d=Math.sqrt((x-dataList2[index].x)*(x-dataList2[index].x)+(y-dataList2[index].y)*(y-dataList2[index].y));
            console.log(d);
            if(d<4)
            {
                var pointObj={};
                pointObj.index=index+1;
                pointObj.x=x;
                pointObj.y=y;
                pointList.push(pointObj);
                if(index>=1)
                {
                    var prevIndex=index-1;
                    // 设置线条的颜色
                    context.strokeStyle = 'red';
                    // 设置线条的宽度
                    context.lineWidth = 3;
                    context.moveTo(pointList[prevIndex].x,pointList[prevIndex].y);
                    context.lineTo(x,y);
                    context.stroke();
                }
                drawCircle(x,y);
                index++;

                if(index>=42)
                {

                    $("#page4Wancheng").show()
                }


            }

        }





    }


    $("#page3Btn1").click(function()
    {
        context.clearRect(0,0,1920,1080);
        pointList=[];
        $("#page3Wancheng").hide()

    });

    $("#page3Btn2").click(function()
    {
        $("#page3").hide();
        $("#page4").show();
        guanqia=2;
        var time=33;
        $("#timeText1").text(time);

        timerId=setInterval(function()
        {
            time--;
            $("#timeText1").text(time);
            if(time==0)
            {
                clearInterval(timerId);
                $("#page1").show();
                $("#page4").hide();
            }
        },1000)



    });

    $("#page5Btn1").click(function()
    {
        context.clearRect(0,0,1920,1080);
        pointList=[];
        $("#page1").show();
        $("#page5").hide();
        guanqia=1;
    });


    $("#page4Btn1").click(function()
    {
        $("#page4").hide();
        $("#page5").show();
    });


    var canvas1 = document.getElementById("canvas1");
    var context = canvas1.getContext("2d");
    context.fillStyle = "rgba(255, 255, 255, 0)";
    context.fillRect(0, 0, 1920, 1080);

    function drawCircle(x,y){

            context.beginPath();
            context.arc(x, y, 5, 0, Math.PI*2, true);
            context.closePath();
            context.fillStyle = "red";
            context.fill();

    }



    $("#pageBtn1").click(function()
    {
        $("#page1").hide();
        $("#page2").show();
    });

    var timerId;
    $("#pageBtn2").click(function()
    {
        var time=33;
        $("#page2").hide();
        $("#page3").show();

        var time=33;
        $("#timeText").text(time);

        timerId=setInterval(function()
        {
            time--;
            $("#timeText").text(time);
            if(time==0)
            {
                clearInterval(timerId);
                $("#page1").show();
                $("#page3").hide();
            }
        },1000)


    });

    $("#pageBtn3").click(function()
    {
        $("#page3").hide();
        $("#page1").show();
    });

    var dataList1=[{"index":1,"x":733,"y":233},{"index":2,"x":760,"y":373},{"index":3,"x":725,"y":447},{"index":4,"x":768,"y":513},{"index":5,"x":807,"y":548},{"index":6,"x":749,"y":577},{"index":7,"x":745,"y":534},{"index":8,"x":668,"y":473},{"index":9,"x":681,"y":561},{"index":10,"x":690,"y":640},{"index":11,"x":734,"y":668},{"index":12,"x":757,"y":621},{"index":13,"x":805,"y":626},{"index":14,"x":791,"y":674},{"index":15,"x":832,"y":709},{"index":16,"x":857,"y":769},{"index":17,"x":797,"y":877},{"index":18,"x":937,"y":840},{"index":19,"x":928,"y":778},{"index":20,"x":961,"y":775},{"index":21,"x":1056,"y":913},{"index":22,"x":1156,"y":864},{"index":23,"x":1093,"y":767},{"index":24,"x":1235,"y":797},{"index":25,"x":1115,"y":700},{"index":26,"x":1203,"y":665},{"index":27,"x":1047,"y":635},{"index":28,"x":1101,"y":607},{"index":29,"x":1099,"y":552},{"index":30,"x":1061,"y":568},{"index":31,"x":1051,"y":546},{"index":32,"x":997,"y":581},{"index":33,"x":886,"y":541},{"index":34,"x":950,"y":476},{"index":35,"x":1026,"y":388},{"index":36,"x":958,"y":386},{"index":37,"x":986,"y":130},{"index":38,"x":890,"y":320},{"index":39,"x":857,"y":312},{"index":40,"x":875,"y":228},{"index":41,"x":858,"y":197},{"index":42,"x":799,"y":206}];
    var dataList2=[{"index":1,"x":796,"y":173},{"index":2,"x":767,"y":229},{"index":3,"x":756,"y":264},{"index":4,"x":751,"y":298},{"index":5,"x":726,"y":336},{"index":6,"x":699,"y":377},{"index":7,"x":735,"y":462},{"index":8,"x":797,"y":498},{"index":9,"x":801,"y":528},{"index":10,"x":784,"y":588},{"index":11,"x":744,"y":586},{"index":12,"x":744,"y":552},{"index":13,"x":720,"y":541},{"index":14,"x":692,"y":519},{"index":15,"x":660,"y":604},{"index":16,"x":690,"y":613},{"index":17,"x":723,"y":614},{"index":18,"x":799,"y":622},{"index":19,"x":921,"y":758},{"index":20,"x":867,"y":821},{"index":21,"x":906,"y":817},{"index":22,"x":897,"y":834},{"index":23,"x":884,"y":789},{"index":24,"x":949,"y":861},{"index":25,"x":885,"y":672},{"index":26,"x":902,"y":662},{"index":27,"x":1010,"y":733},{"index":28,"x":1178,"y":729},{"index":29,"x":1122,"y":757},{"index":30,"x":1148,"y":740},{"index":31,"x":1196,"y":793},{"index":32,"x":1119,"y":734},{"index":33,"x":1177,"y":851},{"index":34,"x":1230,"y":762},{"index":35,"x":978,"y":641},{"index":36,"x":937,"y":590},{"index":37,"x":933,"y":514},{"index":38,"x":977,"y":525},{"index":39,"x":1072,"y":580},{"index":40,"x":1165,"y":617},{"index":41,"x":1153,"y":562},{"index":42,"x":1233,"y":526},{"index":43,"x":1165,"y":519},{"index":44,"x":1216,"y":477},{"index":45,"x":1150,"y":485},{"index":46,"x":1170,"y":450},{"index":47,"x":1051,"y":494},{"index":48,"x":952,"y":487},{"index":49,"x":944,"y":481},{"index":50,"x":940,"y":447},{"index":51,"x":954,"y":426},{"index":52,"x":1042,"y":374},{"index":53,"x":1101,"y":310},{"index":54,"x":1143,"y":301},{"index":55,"x":1211,"y":295},{"index":56,"x":1142,"y":271},{"index":57,"x":1056,"y":287},{"index":58,"x":1055,"y":254},{"index":59,"x":1086,"y":192},{"index":60,"x":1057,"y":135},{"index":61,"x":1034,"y":187},{"index":62,"x":868,"y":195}];


</script>

</body>
</html>